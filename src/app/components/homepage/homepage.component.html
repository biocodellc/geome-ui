<section id="homepage-container" class="main-content-container homepage-root">
  <div class="homepage-backdrop"></div>
  <div class="container py-4">
    <div class="prototype-toggle animate-in">
      <div class="toggle-intro">
        <p class="toggle-label">Homepage Prototypes</p>
        <p class="toggle-subtext">Bold visual concepts with quote-led messaging for field confidence and lab continuity.</p>
      </div>
      <div class="toggle-actions">
        <button type="button" class="toggle-btn" [class.active]="activePrototype === 'field'" (click)="setPrototype('field')">Prototype A</button>
        <button type="button" class="toggle-btn" [class.active]="activePrototype === 'ops'" (click)="setPrototype('ops')">Prototype B</button>
      </div>
    </div>

    @if(activePrototype === 'field'){
      <section class="hero-shell hero-field animate-in">
        <div class="hero-orb hero-orb-a"></div>
        <div class="hero-copy">
          <p class="eyebrow">Prototype A | Immersive Field Signal</p>
          <h1>Capture once in the field. Trust it in the lab.</h1>
          <p class="hero-text">
            Built for teams where collecting events, samples, tissues, and sequences must stay connected as one narrative.
            <i class="fas fa-volume-high audio-icon" (click)="playAudio()"></i>
          </p>
          <div class="hero-quote-callout">
            <p>"Field data becomes scientific capital only when context survives the trip to analysis."</p>
          </div>
          <div class="hero-badges">
            <span>Full metadata provenance</span>
            <span>Persistent record identity</span>
            <span>Query-ready from day one</span>
          </div>
        </div>
        <div class="hero-art hero-art-field">
          <img src="images/geomeWorkflow.png" alt="GEOME workflow artwork">
          <div class="art-chip">Field campaign confidence</div>
        </div>
      </section>
    }
    @else{
      <section class="hero-shell hero-ops animate-in">
        <div class="hero-orb hero-orb-b"></div>
        <div class="ops-left">
          <p class="eyebrow">Prototype B | Studio Operations Mode</p>
          <h1>High-visibility operations for collection teams and lab pipelines.</h1>
          <p class="hero-text">
            A vivid command-surface style concept focused on velocity, clarity, and controlled handoffs.
          </p>
          <div class="hero-quote-callout">
            <p>"Better metadata is not slower science. It is faster trustworthy science."</p>
          </div>
          <div class="hero-badges">
            <span>Expedition ownership visibility</span>
            <span>Validation before publication</span>
            <span>Reusable query intelligence</span>
          </div>
        </div>
        <div class="ops-right">
          <h4>Signal Strip</h4>
          <p class="ops-strip">COLLECT <span>-></span> VALIDATE <span>-></span> LINK <span>-></span> QUERY <span>-></span> PUBLISH</p>
          <img src="images/geomeRequired.png" alt="GEOME required fields artwork" class="ops-image">
        </div>
      </section>
    }

    <section class="feature-photos animate-in">
      <article class="feature-photo-card">
        <img [src]="featurePhotoOne" alt="Moorea coastline landscape">
      </article>
      <article class="feature-photo-card">
        <img [src]="featurePhotoTwo" alt="Moorea field crate">
      </article>
      <article class="feature-photo-card">
        <img [src]="featurePhotoThree" alt="Moorea fish reef">
      </article>
    </section>

    <section class="quote-ribbon animate-in">
      @for(item of activeQuotes; track item.quote){
        <article class="quote-card">
          <p class="quote-text">"{{item.quote}}"</p>
          <p class="quote-by">{{item.byline}}</p>
        </article>
      }
    </section>

    <section class="link-cards animate-in">
      @for(item of homeItems; track item){
        <a class="link-card" [ngClass]="'tone-' + item.tone" [routerLink]="item.route">
          <div class="icon-wrap"><i [ngClass]="['fas', item.icon]"></i></div>
          <img [src]="item.img" [alt]="item.title">
          <h4>{{item.title}}</h4>
          <p>{{item.subtitle}}</p>
        </a>
      }
    </section>

    <section class="highlight-band animate-in">
      <article class="collab-highlight">
        <div class="collab-head">
          <h3>Open to Collaborate</h3>
          <span>Indigenous partnership and stewardship commitments</span>
        </div>
        <p>
          GEOME maintains this notice prominently to support new collaboration pathways and responsible data stewardship practices.
        </p>
        <button type="button" class="btn btn-light collab-btn" placement="top" ngbTooltip="Collaborate" (click)="openCollabModal(collab_modal)">
          <img src="images/Open_To_Collaborate.png" alt="Open to Collaborate" class="open-collab-icon" />
          <span>Review Collaboration Notice</span>
        </button>
      </article>

      <article class="publication-highlight">
        <h3>Foundational Publication</h3>
        <p>
          The Genomic Observatories Metadatabase (GEOME): A new repository for field and sampling event metadata associated with genetic samples.
        </p>
        <p class="authors">Deck J, Gaither MR, Ewing R, Bird CE, Davies N, Meyer C, Riginos C, Toonen RJ, Crandall ED.</p>
        <a href="https://doi.org/10.1371/journal.pbio.2002925" target="_blank" rel="noopener noreferrer">
          https://doi.org/10.1371/journal.pbio.2002925
        </a>
      </article>
    </section>

    <div class="legacy-link animate-in">
      <a href="https://geome-old.netlify.app/" target="_blank" rel="noopener noreferrer">Visit the Legacy GEOME Site</a>
    </div>
  </div>
</section>

<ng-template #collab_modal let-modal>
  <div class="modal-body p-4 pb-2">
    <h5 class="fw-semibold">Open to Collaborate</h5>
    <p>
      GEOME is committed to the development of new modes of collaboration, engagement, and partnership with Indigenous peoples for the care and stewardship of past and future heritage collections.
      See <a href="https://localcontexts.org/notice/open-to-collaborate/" target="_blank" class="text-decoration-none">Local Contexts</a> for more information
    </p>
    <div class="d-flex justify-content-end">
      <button type="button" class="btn btn-outline-primary border-0" (click)="modal.close()">Close</button>
    </div>
  </div>
</ng-template>
